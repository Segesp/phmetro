#!/bin/bash

# Script para configurar webhook en ThingSpeak
# Esto requiere configuraciÃ³n manual en ThingSpeak

echo "ðŸ”§ ConfiguraciÃ³n de Webhook ThingSpeak â†’ Supabase"
echo "=================================================="
echo ""
echo "Para configurar la sincronizaciÃ³n automÃ¡tica en tiempo real:"
echo ""
echo "1. Ir a https://thingspeak.com/channels/2988488"
echo "2. Ir a Apps > ThingHTTP"
echo "3. Crear nueva ThingHTTP con estos datos:"
echo ""
echo "   Name: Sync to Supabase"
echo "   URL: https://phmetro.vercel.app/api/thingspeak-webhook"
echo "   HTTP Auth Username: (dejar vacÃ­o)"
echo "   HTTP Auth Password: (dejar vacÃ­o)"
echo "   Method: POST"
echo "   Content Type: application/json"
echo "   Headers: (dejar vacÃ­o)"
echo "   Body: %%channel_%%"
echo ""
echo "4. Ir a Apps > React"
echo "5. Crear nueva React con estos datos:"
echo ""
echo "   React Name: Auto Sync Supabase"
echo "   Condition Type: On Data Insertion"
echo "   Test Frequency: On Data Insertion"
echo "   Condition: always"
echo "   Action: ThingHTTP"
echo "   ThingHTTP: Sync to Supabase"
echo "   Options: Run action each time condition is met"
echo ""
echo "âœ… Una vez configurado, los datos se sincronizarÃ¡n automÃ¡ticamente"
echo "   cada vez que Arduino envÃ­e datos a ThingSpeak"
echo ""
echo "ðŸ“Š URLs importantes:"
echo "   - Dashboard: https://phmetro.vercel.app/"
echo "   - Sync Manual: https://phmetro.vercel.app/api/sync-thingspeak"
echo "   - Webhook: https://phmetro.vercel.app/api/thingspeak-webhook"
echo ""
echo "ðŸ”„ Mientras tanto, la sincronizaciÃ³n local sigue funcionando cada 30s"
